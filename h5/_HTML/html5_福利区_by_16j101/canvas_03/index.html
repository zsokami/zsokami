<!DOCTYPE HTML>
<html>
<head>
  <meta charset="UTF-8"/>
  <title>h5</title>
  <style type="text/css">
    body{
      margin: 0;
      text-align: center;
    }
  </style>
</head>
<body>
  <canvas id="canvas">浏览器不支持 canvas 标签</canvas>
  <script type="text/javascript">
    var ctx=document.getElementById("canvas").getContext("2d");
    var w=canvas.width=window.innerWidth;
    var h=canvas.height=window.innerHeight;
    var size=100;
    var x=w/2-size*1.5;
    var y=h/2-size*1.5;
    var chars=[
      '壹贰叁',
      '肆伍陆',
      '柒捌玖'
    ];
    var index=0;
    var color="#f00";
    
    ctx.font=size+"px monospace";
    ctx.fillStyle="#000";
    ctx.fillRect(0,0,w,h);
    ctx.fillStyle="#fff";
    for(var i=0;i<3;i++){
      for(var j=0;j<3;j++){
        ctx.fillText(chars[i][j],x+size*j,y+size*(i+0.9));
      }
    }

    function draw(){
      drawText(index,"#fff");
      if(index>=8){
        color=rndColor();
        index=0;
      }else{
        index++;
      }
      drawText(index,color);
    }
    
    setInterval(draw,200);
    
    function drawText(index,color){
      var xx=index%3,yy=(index-xx)/3;
      ctx.fillStyle="#000";
      ctx.fillRect(x+size*xx,y+size*yy,size,size);
      ctx.fillStyle=color;
      ctx.fillText(chars[yy][xx],x+size*xx,y+size*(yy+0.9));
    }
    
    function rndColor(){
      var h=Math.floor(Math.random()*90);
      return getColor2(h);
    }
    
    /*
    function getColor(h){
      var a=h%15,b=(h-a)/15;
      var c=((15<<(2-Math.floor((b+1)/2)%3)*4)+((b%2?15-a:a)<<(b+1)%3*4)).toString(16);
      return "#000".slice(0,-c.length)+c;
    }
    */
    
    function getColor2(h){
      var a=h%15,b=(h-a)/15,c=b%2,d=(b+1)%3;
      var e=((15<<(d+c+1)%3*4)+((c?15-a:a)<<d*4)).toString(16);
      return "#000".slice(0,-e.length)+e;
    }
    
    /*
    function rndColor2(){
      return "#"+((15<<8)+(Math.floor(Math.random()*16)<<Math.floor(Math.random()*2)*4)).toString(16);
    }
    
    function rndColor3(){
      var a=Math.floor(Math.random()*3);
      var s=[0,0,0];
      s[a]="f";
      s[Math.floor(a+Math.random()*2+1)%3]=Math.random().toString(16).substr(2,1);
      return "#"+s.join("");
    }
    */
  </script>
</body>
</html>